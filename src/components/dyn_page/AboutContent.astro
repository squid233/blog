---
import {
	type MarkdownToHtmlResult,
	markdownToHtml,
} from "@/lib/markdown-to-html";
import { supabase } from "@/lib/supabase";

const { data: aboutPost, error } = await supabase
	.from("spec")
	.select("*")
	.eq("slug", "about")
	.limit(1)
	.single();

if (error) {
	console.error("Error fetching about page content:", error.message);
}

const renderResult: MarkdownToHtmlResult =
	aboutPost && (await markdownToHtml(aboutPost.body));
---
<Fragment set:html={renderResult?.html || '<p class="text-red-500">无法加载关于页面内容。</p>'} />
